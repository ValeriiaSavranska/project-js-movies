{"version":3,"sources":["js/main.js","js/partials-js/header.js","js/services/api-services.js","js/markup/markup-gallery.js","js/partials-js/main-page.js","js/partials-js/footer.js","index.js"],"names":["loader","document","querySelector","handleBySpin","showSpinner","data","cb","hideSpinner","classList","remove","add","header","homePage","libraryPage","headerNav","homePageWrapper","libraryPageWrapper","navLogo","logoIcon","changePage","e","preventDefault","target","currentTarget","addEventListener","BASE_URL","API_KEY","genres","getGenres","response","fetch","json","getTrendingMovies","getSearchMovie","movieToSearch","getMovieById","movieId","createMarkup","movies","markup","results","map","id","poster_path","backdrop_pathL","genre_ids","release_date","title","arrGenre","find","genre","name","length","splice","yer","Date","join","getFullYear","galleryDiv","headerNavTitle","renderMovies","innerHTML","then","dataRef","date"],"mappings":"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","file":"src.83264844.js","sourceRoot":"../src","sourcesContent":["const loader = document.querySelector('.loader');\n\nconst handleBySpin = async cb => {\n  showSpinner();\n  const data = await cb();\n  hideSpinner();\n  return data;\n};\n\nconst showSpinner = () => {\n  loader.classList.remove('loader-hide');\n  loader.classList.add('loader-show');\n};\n\nconst hideSpinner = () => {\n  loader.classList.remove('loader-show');\n  loader.classList.add('loader-hide');\n};\n\nexport { showSpinner, hideSpinner, handleBySpin };\n\n// import { handleBySpin } from '../main';\n","const header = document.querySelector('#head');\nconst homePage = document.querySelector('#home-page');\nconst libraryPage = document.querySelector('#library-page');\nconst headerNav = document.querySelector('.header-nav');\nconst homePageWrapper = document.querySelector('.search-film__wrap');\nconst libraryPageWrapper = document.querySelector('.my-library__wrap');\nconst navLogo = document.querySelector('#nav-logo');\nconst logoIcon = document.querySelector('.header-nav__icon');\n\nconst changePage = e => {\n  e.preventDefault();\n\n  if (e.target === e.currentTarget) return;\n\n  if (e.target === homePage || e.target === navLogo || e.target === logoIcon) {\n    libraryPageWrapper.classList.add('visually-hidden');\n    homePageWrapper.classList.remove('visually-hidden');\n    libraryPage.classList.remove('current');\n    homePage.classList.add('current');\n    header.classList.remove('header__main--library-bcg');\n  }\n\n  if (e.target === libraryPage) {\n    libraryPageWrapper.classList.remove('visually-hidden');\n    homePageWrapper.classList.add('visually-hidden');\n    libraryPage.classList.add('current');\n    homePage.classList.remove('current');\n    header.classList.add('header__main--library-bcg');\n  }\n};\n\nheaderNav.addEventListener('click', changePage);\n","import { handleBySpin } from '../main';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '61e2735d71b7e3847b723f570f360fd1';\n// let page = 1;\nlet genres = [];\n\nconst getGenres = async () => {\n  const response = await fetch(`${BASE_URL}genre/movie/list?api_key=${API_KEY}`);\n  const data = await response.json();\n  genres = data.genres;\n};\n\nconst getTrendingMovies = async () => {\n  return handleBySpin(async () => {\n    const response = await fetch(`${BASE_URL}trending/movie/week?api_key=${API_KEY}`);\n    return response.json();\n  });\n};\n\nconst getSearchMovie = async movieToSearch => {\n  return handleBySpin(async () => {\n    const response = await fetch(\n      `${BASE_URL}search/movie?api_key=${API_KEY}&query=${movieToSearch}`,\n    );\n    return response.json();\n  });\n};\n\nconst getMovieById = async movieId => {\n  return handleBySpin(async () => {\n    const response = await fetch(`${BASE_URL}movie/${movieId}?api_key=${API_KEY}`);\n    return response.json();\n  });\n};\nexport { getGenres, genres, getTrendingMovies, getSearchMovie, getMovieById };\n","import { genres } from '../services/api-services';\n\nexport default function createMarkup(movies) {\n  const markup = movies.results.map(\n    ({ id, poster_path, backdrop_pathL, genre_ids, release_date, title }) => {\n      let arrGenre = genre_ids.map(id => genres.find(genre => genre.id === id).name);\n      if (arrGenre.length > 3) {\n        arrGenre.splice(2, arrGenre.length - 2, 'Other');\n      }\n      const yer = new Date(release_date);\n      return `\n              <li class=\"card\" id=\"${id}\">\n              <img class=\"card-img\" src=\"https://image.tmdb.org/t/p/w300${poster_path}\" alt=\"${title}\" loading=\"lazy\" />\n              <div class=\"card-info\">\n                  <h2 class=\"card-info__title\">${title}</h2>\n                  <ul class=\"card-info__text\">\n                      <li class=\"link-genre\">${arrGenre.join(', ')} | ${yer.getFullYear()}</li>\n                  </ul>\n              </div>\n              </li>`;\n    },\n  );\n  return markup.join('');\n}\n","import { getGenres, getTrendingMovies } from '../services/api-services';\nimport createMarkup from '../markup/markup-gallery';\n\nconst galleryDiv = document.querySelector('.gallery');\nconst headerNavTitle = document.querySelector('.header-nav__logo');\n\nconst renderMovies = movies => {\n  const markup = createMarkup(movies);\n  galleryDiv.innerHTML = markup;\n};\ngetGenres()\n  .then(getTrendingMovies)\n  .then(movies => renderMovies(movies));\n\n\nheaderNavTitle.addEventListener('click', e => {\n  e.preventDefault();\n  galleryDiv.innerHTML = '';\n  getTrendingMovies().then(movies => renderMovies(movies));\n});\n","import 'animate.css';\n\nconst dataRef = document.querySelector('.footer__data');\n\nconst date = new Date();\n\ndataRef.innerHTML = date.getFullYear();\n","import './sass/main.scss';\n\nimport './js/main';\n\nimport './js/partials-js/header';\nimport './js/partials-js/main-page';\nimport './js/partials-js/footer';\n\nimport './js/services/api-services';\n\n// import './js/markup/'\n"]}